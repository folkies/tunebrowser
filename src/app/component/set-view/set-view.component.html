@if (set) {
    <div class="set-view-container">
        <div class="set-header">
            <h2 class="mat-h2">{{ set.name }}</h2>
            <div class="header-actions">
                <button mat-button (click)="editSet()">
                    <mat-icon>edit</mat-icon> Edit
                </button>
                <button mat-button (click)="backToList()">
                    <mat-icon>arrow_back</mat-icon> Back to Sets
                </button>
            </div>
        </div>

        @if (tunesWithAbc.length > 0) {
            <div class="tunes-list">
                    @for (tune of tunesWithAbc; track tune.entry; let isLast = $last) {
                        <span class="mat-h4 tune-link" (click)="openTune(tune.entry)">{{ tune.entry.title }}</span>
                        @if (!isLast) { 
                            <span class="separator"> | </span> 
                        }
                    }
            </div>

            <div class="tunes-notation">
                <app-tune-view [tune]="getConcatenatedAbc()" [showNumberInTitle]="false"></app-tune-view>
            </div>
        }

        @if (tunesWithAbc.length === 0) {
            <div class="empty-state">
                <p class="mat-body">
                    This set is empty. Click "Edit" to add tunes.
                </p>
            </div>
        }
    </div>
}
